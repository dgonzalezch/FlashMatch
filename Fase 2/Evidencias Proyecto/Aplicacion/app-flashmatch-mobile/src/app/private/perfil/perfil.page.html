<ion-content [fullscreen]="true" class="ion-padding">
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col size="auto">
        <ion-avatar class="user-avatar-container">
          <img src="https://ionicframework.com/docs/img/demos/avatar.svg" alt="Imagen del usuario" class="user-avatar" />
        </ion-avatar>
        <ion-button shape="round" color="secondary" size="small" class="edit-avatar-button">
          <ion-icon slot="icon-only" name="camera-outline"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row class="ion-justify-content-center">
      <ion-col size="auto" class="ion-text-center">
        <h2 class="ion-no-margin">{{ user.name }}</h2>
      </ion-col>
    </ion-row>
    <ion-row class="ion-justify-content-center ion-text-center">
      <ion-col size="auto" class="ion-no-padding">
        @for (title of user.titles; track $index) {
          <ion-chip color="secondary">{{ title }}</ion-chip>
        }
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Sección de deportes -->
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-accordion-group class="ion-no-margin" expand="inset">
          <ion-accordion class="ion-no-margin" value="first">
            <ion-item slot="header" color="tertiary">
              <ion-icon name="football-outline" class="ion-margin-end"></ion-icon>
              <ion-label>
                <h3>Deportes</h3>
                <p>Seleccionado: Fútbol</p>
              </ion-label>
            </ion-item>
            <div class="ion-padding" slot="content">
              <ion-list class="ion-no-padding ion-padding-bottom">
                @for (sport of user.sports; track $index) {
                  <ion-item button lines="full" (click)="editSport(sport)">
                    <ion-label>
                      <h3>{{ sport.name }}</h3>
                      <p>{{ sport.position }}</p>
                    </ion-label>
                    <ion-button color="secondary">Editar</ion-button>
                  </ion-item>
                }
                @empty {
                  <ion-item lines="full">
                    <ion-text>No tienes ningún deporte añadido.</ion-text>
                  </ion-item>
                }
              </ion-list>
              <ion-button expand="block" color="primary">
                <ion-icon slot="start" name="add"></ion-icon>
                Añadir Deporte
              </ion-button>
            </div>
          </ion-accordion>
        </ion-accordion-group>
      </ion-col>
    </ion-row>
  </ion-grid>

  @if (selectedSport) {
    <!-- <ion-card>
      <ion-card-header>
        <div class="title-container">
          <ion-card-title class="ion-text-start">
            {{ selectedSport.name }} - Rendimiento
          </ion-card-title>
          <ion-button color="secondary" size="small" class="edit-button">
            Editar
          </ion-button>
        </div>
      </ion-card-header>
      <ion-card-content> -->
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <h3 class="ion-no-margin">{{ selectedSport.name }} - Rendimiento</h3>
            </ion-col>
            <ion-col size="12">
              <canvas baseChart
                [datasets]="radarChartData"
                [options]="radarChartOptions"
                [labels]="radarChartLabels"
                [type]="'radar'">
              </canvas>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-item lines="full">
                <ion-label>Velocidad</ion-label>
                <ion-range min="0" max="100"></ion-range>
              </ion-item>
              <ion-item lines="full">
                <ion-label>Resistencia</ion-label>
                <ion-range min="0" max="100"></ion-range>
              </ion-item>
              <ion-item lines="full">
                <ion-label>Precisión</ion-label>
                <ion-range min="0" max="100"></ion-range>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
      <!-- </ion-card-content>
    </ion-card> -->
  }

  <!-- <ion-card>
    <ion-card-header>
      <ion-card-title>Partidos Jugados</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <ion-list>
              <ion-item lines="full" *ngFor="let match of user.matches">
                <ion-label>
                  {{ match.date }} - {{ match.opponent }} ({{ match.score }}) - {{ match.position }}
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-button expand="block" (click)="viewHistory()">Ver historial completo</ion-button>
    </ion-card-content>
  </ion-card> -->
</ion-content>
